extends layout

block pagescript
    script(src="/javascripts/svgHelper.js", type="text/javascript")
    script(src="/javascripts/GhostDraggable.js", type="text/javascript")
    script(src="/javascripts/DraggableArea.js", type="text/javascript")
    script(src="/javascripts/DraggableList.js", type="text/javascript")
    script(src="/javascripts/index.js", type="text/javascript")

block content
    header.pips2header 
        .leftcontainer
            img#usgsNavIcon(src="images/usgsLogo.png", alt="HeaderLogo", class="usgsLogo", onclick="navigateTo('https://www.usgs.gov/centers/astrogeology-science-center')")
        .centercontainer(style="text-align:center")
            img(src="images/pieLogo.svg", alt="PIElogo", class="titleLogo")
        .rightcontainer(style="text-align:right")
            img.headerimage(src="images/LRO_0.png", alt="lroLogo")
            img.headerimage(src="images/pdslogo.png", alt="PSDLogo")
    span#maincontent.maincontent
        //- Tool Box Section 
        #toolbox.toolboxcontainer
            #toolcontainer.toolscontainer
                .windowoptionsbar(style="display:flex;")
                    h4="Tools"
                    button.windowminimizebtn='▼'
                #filetools.filetoolsbox.closed
                    label.text(for="figureoutputsize")="Figure Size"
                    .middledisplay
                        select#figsizeselect(title="Change the size of the main figure.")
                            optgroup
                                each figsize in ["1/4 Page", "1/2 Page", "Full Page", "PowerPoint", "Custom"]
                                    option(value=fidsize) #{figsize}
                    label.text(for="backgroundcolor")="Background Color"
                    .middledisplay(style="border-bottom: 2px solid rgba(255, 255, 255, 0.57); padding-bottom: 3px; border-radius: 5px 5px;")
                        input#backgroundcolor(type="color", name="backgroundcolor", value="#1D84B5" title="Change the color of the main figure background.")
                    label.text(for="icongroup")="Geospacial Icons"
                    #icongroup.concisebtngroup
                        button#northarrowopt.disabled(type="button" title="North Arrow" )
                            svg.btnvectorgraphic(version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 27 27" xml:space="preserve")
                                svg#northgroup(viewBox="0 0 27 27")
                                    g.holder
                                        path(d="m13.468 6.2389-1.98 8.0812-7.92 2.0203 7.92 2.0203 1.98 8.0812 1.98-8.0812 7.92-2.0203-7.92-2.0203z" stroke="#000000" fill="none" stroke-linejoin="round" stroke-width=".20001px")
                                        path(d="m23.368 16.34-9.9181 0.07205 1.9981 1.9483z" fill="#000000" stroke-width=".23238" stroke="#000000")
                                        path(d="m13.472 26.441c-0.02018-0.09062-1.9844-8.0799-1.9844-8.0799l1.9619-1.9483z" fill="#000000" stroke="#000000" stroke-width=".16979px")
                                        path(d="m13.468 6.2389-0.0182 10.174 1.9981-2.0924z" fill="#000000" stroke-width=".1621px" stroke="#000000")
                                        path(d="m3.568 16.34 9.8819 0.07206-1.9619-2.0924z" fill="#000000" stroke-width=".15632px" stroke="#000000")
                                        path(d="m13.468 6.2389-1.98 8.0812 1.9619 2.0924z" fill="#ffffff" stroke-width=".26788" stroke="#000000")
                                        path(d="m15.448 14.32-1.998 2.0924 9.9181-0.07208z" fill="#ffffff" stroke-width=".2479px" stroke="#000000")
                                        path(d="m13.45 16.412 0.0181 10.029 1.98-8.0812z" fill="#ffffff" stroke-width=".2479px" stroke="#000000")
                                        path(d="m3.568 16.34 9.8818 0.07206-1.9618 1.9483z" fill="#ffffff" stroke-width=".2479px" stroke="#000000")
                                        path(d="m10.434 0.36465h1.4743l3.3213 4.0745v-3.133q0-0.50079-0.11218-0.62499-0.14823-0.16827-0.46874-0.16827h-0.1883v-0.14823h1.891v0.14823h-0.1923q-0.34454 0-0.48877 0.20833-0.08814 0.1282-0.08814 0.58493v4.5792h-0.14423l-3.5817-4.3749v3.3453q0 0.50079 0.10817 0.62499 0.15224 0.16827 0.46874 0.16827h0.1923v0.14823h-1.891v-0.14823h0.1883q0.34855 0 0.49278-0.20833 0.08814-0.1282 0.08814-0.58493v-3.778q-0.23637-0.27644-0.36057-0.36458-0.12019-0.08814-0.35656-0.16426-0.11618-0.036057-0.35256-0.036057z" transform="scale(1.0118 .98833)" fill="#ffffff" stroke-width=".20542" aria-label="N" stroke="#000000")
                                    rect.marker(width="100%" height="100%" fill="transparent" stroke="transparent")

                        button#sunarrowopt.disabled(type="button" title="Sun Azimuthal")
                            svg.btnvectorgraphic(viewBox="0 0 27 27")
                                svg#sungroup(viewBox="0 0 27 27")
                                    g.holder
                                        path(d="m10.848 2.6458 2.3812-2.3812 2.3812 2.3812h-1.3229v3.9688h-2.1167v-3.9688z" fill="#ffffff" fill-opacity=".99194" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width=".64796")
                                        ellipse(cx="13.229" cy="16.933" rx="8.9243" ry="8.9243" fill="#ffffff" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2014")
                                        circle(cx="13.229" cy="16.867" r="2.6458" fill="#000000" fill-opacity=".99194")
                                    rect.marker(width=30 height=30 fill="transparent" stroke="transparent")
                        
                        button#observerarrowopt.disabled(type="button" title="Spacecraft Azimuthal")
                            svg.btnvectorgraphic(version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 27 27" xml:space="preserve")
                                svg#observergroup(viewBox="0 0 32 32")
                                    g.holder(stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1")
                                        path(d="m2.6546 19.165 2.1771-0.62564-0.041303-2.1895h14.26v2.0193l2.1167 0.0074v-2.099c0.0072-1.9145 3.3532-2.1043 3.4396-0.14305v8.7001h-21.952z" fill="#ffffff" style="paint-order:fill markers stroke")
                                        path(d="m8.9713 9.4987h7.2418v6.6892h-7.2418z" fill="#ffffff" stroke-width=".46833" style="paint-order:fill markers stroke")
                                        ellipse(cx="22.889" cy="16.838" rx=".68787" ry=".61257" fill="#000000" style="paint-order:fill markers stroke")
                                        ellipse(cx="19.242" cy="21.328" rx="2.2929" ry="2.0419" fill="#ffffff" style="paint-order:fill markers stroke")
                                        path(d="m3.542 20.187c-0.015528-0.7396 0.86779-0.74495 0.87905 0v2.8851c0.015399 0.69328-0.87781 0.62059-0.87905 0z" fill="#000000" style="paint-order:fill markers stroke")
                                        path(d="m8.9713 8.3444h7.1315c1.4527 0.10413 1.6347 1.7284 0 1.1543h-7.1315c-1.5342 0.68291-1.2668-1.0939 0-1.1543z" fill="#ffffff" style="paint-order:fill markers stroke")
                                        path(d="m9.9927 3.6633 2.6874-3.0923 2.5586 3.0682-1.5387 0.00473-0.01187 3.7497h-2.2225l0.06213-3.7339z" fill="#ffffff" stroke-width=".55303" style="paint-order:fill markers stroke")
                                        rect(x="8.7516" y="14.188" width="7.9037" height="1.7785" fill="#000000" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width=".40524" style="paint-order:fill markers stroke")
                                    rect.marker(width=30 height=32 fill="transparent" stroke="transparent")

                        button#keyopt.disabled(type="button" title="Figure/Data Key")
                            svg.btnvectorgraphic(viewBox="0 0 27 27")
                                svg#keygroup(viewBox="0 0 27 27")
                                    g.holder
                                        path(d="m24.409 16.105c-0.09647 7.7306-1.2803 8.7828-9.0568 8.1467-2.4543-0.20076-3.364-1.679-3.5958-4.1551-0.01172-0.12525 0.79194-1.2654 0.13327-2.1725-0.22815-0.31422 0.69442-1.533 0.37927-1.8883-3.2715-3.6876-11.21-12.75-11.21-12.75v-2.6023l3.3191 0.14028-0.26243 1.9242 1.2038 0.14264-0.14045 1.4101 0.96097 1.0154 1.5969 0.12658-0.10955 1.417 0.85191 0.84775 1.1613-0.10164 0.2196 1.1633 0.83129 0.82066 1.0472 0.19735c0.39808 0.046238-1.0982-0.097816 0.2936 0.011786l1.2899 1.4852c2.1898 0.06795-0.68758 0.09516 2.0781 0.06092 0.62066 0.467 0.56436 0.30006 1.3908 1.3015 0.39187 0.47483 1.4658-1.3273 1.8003-1.0124 1.0394 0.97862 1.4171 0.40434 2.2222 0.31545 1.0052-0.11097 3.6194 2.2663 3.5958 4.1551z" fill="#000000" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width=".7622" style="paint-order:fill markers stroke")
                                        path(d="m2.1079 3.0354 11.636 12.985z" fill="#ffffff" stroke="#fdffff" stroke-width=".26458px")
                                        path(d="m15.073 21.351 2.3463-2.6996c-0.09595 0.95111 0.20715 3.8284 0.08348 4.7859z" fill="#ffffff" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width=".23998" style="paint-order:fill markers stroke")
                                        path(d="m18.676 18.309 4.3958 0.59924c-0.1471 1.2675-0.93339 2.0642-1.6176 2.6847-0.70813 0.64205-1.7202 1.0879-2.5509 1.1142z" fill="#ffffff" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width=".20623" style="paint-order:fill markers stroke")
                                        path(d="m21.681 14.888 2.2961 2.7424c-0.9241-0.24462-3.8132-0.39869-4.7393-0.67169z" fill="#ffffff" stroke="#000000" stroke-linecap="round" stroke-linejoin="round" stroke-width=".23998" style="paint-order:fill markers stroke")

                        button#scalebarbtnopt.disabled(type="button" title="Scale Bar")
                            svg.btnvectorgraphic(version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 4500 700" width="27" height="27" )
                                svg#scalebargroup(viewBox="0 0 4500 700")
                                    g.holder
                                        //- main conainting box bg
                                        rect(x="248.7" y="217.14" width="3953.1" height="463.01" stroke="#fff" stroke-width="39.57")

                                        //- main bg box parts
                                        rect(x="2225.2" y="423.5" width="1996.3" height="50.272" fill="#fff")
                                        rect(x="250" y="423.5" width="200" height="50.272" fill="#fff")
                                        rect(x="650" y="423.5" width="200" height="50.272" fill="#fff")
                                        rect(x="1050" y="423.5" width="200" height="50.272" fill="#fff")
                                        rect(x="1450" y="423.5" width="200" height="50.272" fill="#fff")
                                        rect(x="1850" y="423.5" width="200" height="50.272" fill="#fff")

                                        //- vertical parts
                                        rect(x="2225.2" y="197.28" width="49.907" height="502.72" fill="#fff")
                                        rect(x="2025.6" y="197.28" width="49.907" height="502.72" fill="#fff")
                                        rect(x="428.61" y="197.28" width="49.907" height="502.72" fill="#fff")
                                        rect(x="628.24" y="197.28" width="49.907" height="502.72" fill="#fff")
                                        rect(x="827.86" y="197.28" width="49.907" height="502.72" fill="#fff")
                                        rect(x="1027.5" y="197.28" width="49.907" height="502.72" fill="#fff")
                                        rect(x="1227.1" y="197.28" width="49.907" height="502.72" fill="#fff")
                                        rect(x="1426.7" y="197.28" width="49.907" height="502.72" fill="#fff")
                                        rect(x="1626.4" y="197.28" width="49.907" height="502.72" fill="#fff")
                                        rect(x="1826" y="197.28" width="49.907" height="502.72" fill="#fff")
                                        
                                        text(transform="matrix(.99813 0 0 1.0054 253.04 142.66)" font-size="40px" fill="#ffffff" font-family="sans-serif" style="line-height:1.25;white-space:pre" xml:space="preserve")
                                            tspan(x="1940.248" y="18.501405")
                                                tspan(font-size="192px")="0"
                                        text(transform="matrix(.99813 0 0 1.0054 -1762.6 145.81)" font-size="40px" fill="#ffffff" font-family="sans-serif" style="line-height:1.25;white-space:pre" xml:space="preserve")
                                            tspan(x="1940.248" y="18.501405")
                                                tspan#scalestart(font-size="192px")="1"
                                        text(transform="matrix(.99813 0 0 1.0054 54.566 160.93)" font-size="192px" fill="#ffffff" font-family="sans-serif" style="line-height:1.25;white-space:pre" xml:space="preserve")
                                            tspan(x="3910.623" y="0.42523331")
                                                tspan#scaleend="1 km"
                                    rect.marker(x="0" y="0" width="4500" height="700" fill-opacity="0" stroke="transparent" pointer-events="inherit")

                        br
                    label.text(for="annotategroup")="Annotation Tools"
                        #annotategroup.concisebtngroup(style="border-bottom: 2px solid rgba(255, 255, 255, 0.57); padding-bottom: 3px; border-radius: 5px 5px;")
                            button#penciloptbtn(type="button" title="Line Tool")
                                svg.btnvectorgraphic(height="25" viewBox="0 -2 25 25" width="25" xmlns="http://www.w3.org/2000/svg")
                                    g#pencilgroup(stroke="black" stroke-width="2")
                                        path(d="m19.788 15.562-3.2543 3.4393-13.528-12.8 3.2543-3.4393z" fill="none" stroke="#000" stroke-linejoin="round" stroke-width=".22123")
                                        path(d="m12.935 9.2079 6.6617 6.3034-3.123 3.3005-13.323-12.607 3.123-3.3005z" fill="#ff9923" fill-opacity=".89069" stroke="#ff9923" stroke-opacity=".8902" stroke-width=".091798")
                                        path(d="m6.2752 2.7452-5.1871-1.6489 1.9328 5.0882c0.30533-1.7802-0.002723-1.4546 1.5836-1.6736 0.26201-1.7344-0.046044-1.4088 1.6707-1.7657z" fill="none" stroke-width=".06982")
                                        path(d="m3.13 1.7814-1.2322 1.3022-0.79685-1.9881z" stroke-width=".11637")
                                        rect(transform="rotate(133.42)" x="-2.426" y="-27.327" width="4.9302" height="1.9452" fill="#f55" fill-opacity=".89069" stroke-linejoin="round" stroke-width=".07")
                                        rect(transform="rotate(133.42)" x="-2.2466" y="-24.93" width=".8964" height="18.48" stroke-width=".068389" fill="#f60" fill-opacity=".89069" stroke="#000")
                                        rect(transform="rotate(133.42)" x="1.5404" y="-24.93" width=".8964" height="18.48" stroke-width=".0684" fill="#f60" fill-opacity=".89069" stroke="#000")
                                        rect(transform="rotate(133.42)" x="-.29708" y="-24.92" width=".8964" height="18.48" stroke-width=".0684" fill="#f60" fill-opacity=".89069" stroke="#000")
                                        path(d="m5.0359 3.0666c0.09772-0.050764 0.15576-0.065469 0.59625-0.15118l0.36588-0.071186-0.3246 0.34886c-0.17853 0.19187-0.47328 0.50338-0.655 0.69223l-0.3304 0.34336 0.05087-0.36926c0.06076-0.44104 0.07046-0.4901 0.11886-0.60135 0.04509-0.10364 0.07882-0.13989 0.17814-0.19147z" fill-opacity=".8902" stroke="#000" fill="#ff9923" stroke-width=".004408")
                                        path(d="m3.4298 4.7425c0.0821-0.044442 0.24261-0.076435 0.57487-0.11459l0.35467-0.040728-0.62077 0.65605c-0.3595 0.37994-0.62102 0.64803-0.62138 0.63697-0.0012-0.036475 0.10822-0.7155 0.13191-0.8189 0.03882-0.16939 0.09819-0.27415 0.1807-0.3188z" fill="#ff9923" stroke-width=".004408" fill-opacity=".8902" stroke="#000")
                                        path(d="m4.6349 2.2685c0.78805 0.25071 1.4331 0.46003 1.4335 0.46514 3.54e-4 0.00515-0.18297 0.043568-0.40738 0.08545-0.60404 0.11274-0.73933 0.16515-0.84751 0.32839-0.06927 0.10454-0.10752 0.27429-0.1709 0.75864l-0.05783 0.44197-0.1293 0.13757-0.25384 0.029159c-0.65735 0.075511-0.72584 0.089615-0.84664 0.17432-0.13955 0.097866-0.18741 0.24642-0.28233 0.87629-0.03526 0.23397-0.06758 0.42535-0.07182 0.42529-0.0042-2.42e-5 -0.2494-0.63482-0.54479-1.4106l-0.53706-1.4105 1.2831-1.357z" fill-opacity=".8902" stroke="#000" fill="#ffa622" stroke-width=".097808")
                            button#outlinebtnopt(type="button" title="Outline Tool")
                                svg.btnvectorgraphic(version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 27 27" xml:space="preserve")
                                    g#outlinegroup(stroke="black", fill="none" viewBox="0 0 25 25")
                                        rect(x="1" y="1" width="22" height="22" fill="transparent" stroke="#000" stroke-linejoin="round" fill-opacity=".8902" stroke-dasharray="3.77952766,1.88976383" stroke-dashoffset="3.5906" stroke-width="1.8898")
                                        rect(x=".47244" y=".47244" width="4" height="4" stroke-dashoffset="3.9685" stroke-width=".94488")
                                        rect(x="19.472" y=".47244" width="4" height="4" stroke-dashoffset="3.9685" stroke-width=".94488")
                                        rect(x="19.472" y="19.472" width="4" height="4" stroke-dashoffset="3.9685" stroke-width=".94488")
                                        rect(x=".47244" y="19.472" width="4" height="4" stroke-dashoffset="3.9685" stroke-width=".94488")
                    label.text(for="exportFigureButton")="Export Figure as "
                    .middledisplay
                        button#exportbtn(type="button", name="exportFigureButton" title="Download figure as ...")
                            svg(viewBox="0 0 100 100")
                                g(stroke="#000000")
                                    path(d="m3.1231 15.551s1.3476 4.0152 10.775 4.1427c9.4272 0.12744 10.694-4.4231 10.694-4.4231l72.511 0.28039v67.253h-93.98z" fill="none" stroke-dashoffset="3.5906" stroke-linejoin="round" stroke-width="3.4396")
                                    ellipse(cx="13.906" cy="13.496" rx="10.935" ry="5.1798" fill="#000000" stroke-dashoffset="3.5906" stroke-linejoin="round" stroke-width="2.1725")
                                    path(d="m46.633 20.28h8.7288v19.755h8.7288l-13.093 19.755-13.093-19.755h8.7288z" fill="#000000" stroke-width=".14621px")
                                    rect(x="13.292" y="66.684" width="71.032" height="8.5526" fill="#000000" stroke-dashoffset="3.5906" stroke-linejoin="round" stroke-width="2.5595")
                                    rect(x="73.747" y="45.417" width="10.576" height="29.82" fill="#000000" stroke-dashoffset="3.5906" stroke-linejoin="round" stroke-width="2.6266")
                                    rect(x="13.292" y="45.417" width="10.576" height="29.82" fill="#000000" stroke-dashoffset="3.5906" stroke-linejoin="round" stroke-width="2.6266")
                    
                h3#tooldivider.dividerline="Vector Layers"
                //- Objects Section Is below here
                div#DraggableContainer.nobody
          
            //- this is the sidebar of the tool area
            .windowsidebar
                button.toolboxminimizebtn(title="Hide Toolbox")='⇤'
                button#addimagebtn.toolboxaddimagebtn(title="Add Image Object")
                    img.svgimg(src="/images/addPlanetImage.svg")
                button#addcaptionbtn.toolboxaddcaptionbtn(title="Add Caption Object")
                    img.svgimg(src="/images/addCaptionImage.svg")
        #editbox.editbox
            //- Other Options Button Group
            .exportoptionsbar(style="display:flex;")
                .buttongroup-left
                    img#loadicon.loading(src="images/loading.svg", alt="loading" height="100%" style="visibility:hidden;")
                .buttongroup
                    button#strtoverbtn(onclick="NewFigure( true )")='↻'
                    button#newfigbtn(onclick="NewFigure( false )")='+Figure'
            //- svg figure location
          
            svg.svgholder(viewBox="-500 0 2500 1500", xmlns="http://www.w3.org/2000/svg", xmlns:xlink="http://www.w3.org/2000/svg")
                svg#figurecontainer.imagecontainer(viewBox="0 0 1500 1500", xmlns="http://www.w3.org/2000/svg", xmlns:xlink="http://www.w3.org/2000/svg", version="1.1", width="1500", height="1500", preserveAspectRatio="xMidYMid meet")
                    defs#figdefs
                        //- marker endings can change size using markerHeight and markerWidth
                        marker(id="arrowhead" viewBox="0 0 10 10" markerWidth="5px" markerHeight="5px" refX="0.1" refY="2.5" orient="auto")
                            path( d="M 0 0 L 5 2.5 L 0 5" fill="#fff" stroke-width="2")
                        marker(id="circlehead" viewBox="0 0 10 10" markerWidth="5px" markerHeight="5px" refX="0.1" refY="2.5" orient="auto")
                            circle(r="2.5" cx="2.5" cy="2.5" fill="#fff" stroke="transparent" stroke-width="2")
                        marker(id="squarehead"  viewBox="0 0 10 10" markerWidth="5px" markerHeight="5px" refX="0.1" refY="2.5" orient="auto")
                            polygon(points="0 0 0 5 5 5 5 0" fill="#fff" stroke="transparent" stroke-width="2")
                    style
                        include livestyle/svg.css
                    rect#bgelement(width="100%" height="100%" fill="#1D84B5")
block footer
    footer.mainfooter
        .leftfooter
            .footerbuttongroup
                a(href="/help")='Help'
                a(href="/faq")='FAQ'

        h5.rightfooter="Astrogeology Science Center"
